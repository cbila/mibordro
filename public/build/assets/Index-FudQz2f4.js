import{T as Z}from"./index-wVxUC5AF.js";import{s as N}from"./index-BwWD2mQs.js";import{s as U}from"./index-Cqkie1M2.js";import{o as l,c as d,e as r,m as P,r as A,a as F,w as T,W as S,s as z,b as n,u as m,d as g,F as j,g as W,k as f,h as i,t as p,i as x,p as u,q as v,f as q,S as G}from"./app-Clor6Bmc.js";import{_ as J}from"./AuthenticatedLayout-BML9ltml.js";import{_ as K}from"./Breadcrumb-CpD5UrIt.js";import{_ as Q}from"./TextInput-Dx03gvMx.js";import{_ as R,a as X,r as Y}from"./InfoButton-Cd8gAiIv.js";import{_ as B}from"./SecondaryButton-CVrCLH69.js";import{_ as ee}from"./SelectInput-CxnOG9h6.js";import{D as M}from"./DangerButton-Cz5zDBKP.js";import{p as te}from"./lodash-DA_3EDCo.js";import{_ as re}from"./Pagination-Bjae9DjC.js";import se from"./Create-BnifP-Lg.js";import ae from"./SendMail-BFrbwuKv.js";import le from"./Edit-DRw-ydS5.js";import oe from"./Delete-CVcZZkOO.js";import ne from"./ForceDelete-BKADPG14.js";import ie from"./Create-D-fSCvi_.js";import de from"./Export-aWYlzXUM.js";import{r as _}from"./ChevronUpDownIcon-DijZITOm.js";import{r as pe}from"./PencilIcon-DQacpF4j.js";import{r as ce}from"./ArrowLeftIcon-BvfDG8wl.js";import{r as me}from"./Toast-C3zIoRlW.js";import"./index-Zi_8adpu.js";import"./index-IWnyXDg_.js";import"./index-DyIGL_tI.js";import"./index-ni-Kb3Fu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./open-closed-BZIuLmqF.js";import"./index-CsgbvKpm.js";import"./Modal--UPmvu_-.js";import"./PrimaryButton-DOVT375j.js";import"./TextArea-Be7cmaW0.js";import"./InputLabel-B8YExcbU.js";import"./index-BZNH-kTE.js";import"./index-BWYMqWAE.js";function ue(c,h){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"fill-rule":"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z","clip-rule":"evenodd"})])}function fe(c,h){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),r("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"})])}const ge={class:"inline-flex w-auto cursor-pointer select-none appearance-none items-center justify-center space-x-1 rounded border border-gray-200 bg-yellow-500 px-3 py-2 text-sm font-medium text-white transition hover:border-yellow-200 hover:bg-yellow-400 active:bg-yellow-500 focus:yellow-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-300"},be={__name:"MailButton",props:{type:{type:String,default:"button"}},setup(c){return(h,$)=>(l(),d("button",ge,[P(h.$slots,"default")]))}},ye={class:"flex justify-between mb-6"},he={class:"flex"},we={class:"overflow-hidden w-fit"},ke={class:"space-y-4"},xe={class:"relative bg-white dark:bg-slate-800 shadow sm:rounded-lg"},ve={class:"flex justify-between p-2 items-center"},_e={class:"flex space-x-2 items-center"},$e={class:"text-sm text-gray-500"},Ce={key:1},Oe={class:"relative inline-flex items-center cursor-pointer"},Ve={class:"overflow-x-auto scrollbar-table"},Se={class:"min-w-full"},je={class:"uppercase text-sm border-t border-slate-200"},Be={class:"dark:bg-slate-900/50 text-left"},Me={class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},Ie=["checked"],De={class:"flex justify-between items-center"},He={class:"flex justify-between items-center"},Ee={class:"flex justify-between items-center"},Le={key:0,class:"bg-white text-sm text-gray-700"},Ze={class:"whitespace-nowrap text-gray-400 py-4 px-2 sm:py-3 text-center border-b border-gray-200"},Ne=["value"],Ue={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-blue-800 font-medium"},Pe={class:"flex"},Ae={key:0,class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},Fe={key:1,class:"text-gray-800"},Te={class:"flex"},ze={key:0,class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},We={class:"text-sm font-normal leading-5 text-gray-500"},qe={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},Ge={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-gray-500"},Je={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},Ke={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},Qe={class:"whitespace-nowrap py-4 px-2 sm:py-3 border-b border-gray-200"},Re={class:"flex justify-center items-center"},Xe={key:0,class:"rounded-md overflow-hidden"},Ye={key:1,class:"rounded-md overflow-hidden"},et={key:1},tt={class:"flex justify-between items-center p-2 border-t border-slate-200"},Ut={__name:"Index",props:{auth:Object,title:String,filters:Object,perPage:Number,users:Object,roles:Object,companies:Object,categories:Object,sgks:Object,breadcrumbs:Object,count:Number},setup(c){const{_:h,debounce:$,pickBy:I}=te,o=c,e=A({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,page:o.filters.page,trashed:o.filters.trashed,perPage:o.perPage,company:o.filters.company},selectedId:[],multipleSelect:!1,allSelected:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,forceDeleteOpen:!1,deleteBulkOpen:!1,sendMailOpen:!1,uploadOpen:!1,createExport:!1,user:null,dataSet:F().props.app.perpage}),w=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"},D=a=>{S.patch(route("users.restore",a))};T(()=>h.cloneDeep(e.params),$(()=>{let a=I(e.params);S.get(route("users.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const H=a=>{var t;e.selectedId=[],a.target.checked===!0&&((t=o.users)==null||t.data.forEach(k=>{e.selectedId.push(k.id)}))};z(()=>{e.allSelected=e.selectedId.length===o.users.data.length});const E=a=>t=>t[a];return(a,t)=>{const k=U,L=N,b=Z;return l(),d(j,null,[n(m(W),{title:c.title},null,8,["title"]),n(J,null,{default:g(()=>[n(K,{title:c.title,breadcrumbs:c.breadcrumbs},null,8,["title","breadcrumbs"]),r("div",ye,[r("div",he,[n(Q,{modelValue:e.params.search,"onUpdate:modelValue":t[0]||(t[0]=s=>e.params.search=s),type:"text",class:"block w-3/6 md:w-2/6 lg:w-4/6 rounded-lg",placeholder:a.lang().placeholder.search},null,8,["modelValue","placeholder"]),a.can(["view-company"])?(l(),f(k,{key:0,modelValue:e.params.company,"onUpdate:modelValue":t[1]||(t[1]=s=>e.params.company=s),options:o.companies,optionLabel:"name",showClear:"",placeholder:"Firma",class:"block w-3/6 md:w-2/6 lg:w-4/6 rounded-lg ml-2"},null,8,["modelValue","options"])):i("",!0)]),r("div",we,[a.can(["create-user"])?(l(),f(R,{key:0,class:"rounded-none",onClick:t[2]||(t[2]=s=>e.createOpen=!0)})):i("",!0),n(se,{show:e.createOpen,onClose:t[3]||(t[3]=s=>e.createOpen=!1),roles:o.roles,companies:o.companies,sgks:o.sgks,title:o.title},null,8,["show","roles","companies","sgks","title"]),n(le,{show:e.editOpen,onClose:t[4]||(t[4]=s=>e.editOpen=!1),user:e.user,roles:o.roles,companies:o.companies,sgks:o.sgks,title:o.title},null,8,["show","user","roles","companies","sgks","title"]),n(oe,{show:e.deleteOpen,onClose:t[5]||(t[5]=s=>e.deleteOpen=!1),user:e.user,title:o.title},null,8,["show","user","title"]),n(ne,{show:e.forceDeleteOpen,onClose:t[6]||(t[6]=s=>e.forceDeleteOpen=!1),user:e.user,title:o.title},null,8,["show","user","title"]),n(ie,{show:e.uploadOpen,onClose:t[7]||(t[7]=s=>e.uploadOpen=!1),title:o.title,user:e.user,categories:o.categories},null,8,["show","title","user","categories"]),n(ae,{show:e.sendMailOpen,onClose:t[8]||(t[8]=s=>e.sendMailOpen=!1),title:o.title,user:e.user},null,8,["show","title","user"]),n(de,{show:e.createExport,onClose:t[9]||(t[9]=s=>e.createExport=!1),title:o.title,selectedId:e.selectedId},null,8,["show","title","selectedId"])])]),r("div",ke,[r("div",xe,[r("div",ve,[r("div",_e,[n(ee,{modelValue:e.params.perPage,"onUpdate:modelValue":t[10]||(t[10]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),r("div",$e,"/ "+p(c.count),1)]),a.can(["view-user"])&&e.selectedId.length&&!e.params.trashed?(l(),f(L,{key:0,class:"rounded-none",onClick:t[11]||(t[11]=s=>e.createExport=!0),severity:"warn",size:"small",variant:"outlined"},{default:g(()=>[t[19]||(t[19]=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0-3.75-3.75M17.25 21 21 17.25"})],-1)),x(" Dışa Aktar ("+p(e.selectedId.length)+" / "+p(o.users.data.length)+") ",1)]),_:1})):i("",!0),a.can(["delete-user"])?(l(),d("div",Ce,[r("label",Oe,[u(r("input",{id:"trashed",type:"checkbox",class:"sr-only peer","onUpdate:modelValue":t[12]||(t[12]=s=>e.params.trashed=s)},null,512),[[v,e.params.trashed]]),t[20]||(t[20]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1)),t[21]||(t[21]=r("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])],-1))])])):i("",!0)]),r("div",Ve,[r("table",Se,[r("thead",je,[r("tr",Be,[r("th",Me,[a.can(["create-user"])&&!e.params.trashed?u((l(),d("input",{key:0,class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",checked:e.allSelected,onChange:H,"onUpdate:modelValue":t[13]||(t[13]=s=>e.allSelected=s)},null,40,Ie)),[[v,e.allSelected]]):i("",!0)]),r("th",{class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider",onClick:t[14]||(t[14]=s=>w("name"))},[r("div",De,[r("span",null,p(a.lang().label.name),1),n(m(_),{class:"w-4 h-4"})])]),r("th",{class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider",onClick:t[15]||(t[15]=s=>w("company"))}),t[22]||(t[22]=r("th",{class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},null,-1)),r("th",{class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider",onClick:t[16]||(t[16]=s=>w("created_at"))},[r("div",He,[r("span",null,p(a.lang().label.created),1),n(m(_),{class:"w-4 h-4"})])]),r("th",{class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider",onClick:t[17]||(t[17]=s=>w("sgk"))},[r("div",Ee,[r("span",null,p(a.lang().label.sgk),1),n(m(_),{class:"w-4 h-4"})])]),t[23]||(t[23]=r("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-center text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},null,-1))])]),c.users.data.length?(l(),d("tbody",Le,[(l(!0),d(j,null,q(c.users.data,s=>{var C,O,V;return l(),d("tr",{key:s.id},[r("td",Ze,[a.can(["create-user"])&&!e.params.trashed?u((l(),d("input",{key:0,class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",value:s.id,"onUpdate:modelValue":t[18]||(t[18]=y=>e.selectedId=y)},null,8,Ne)),[[v,e.selectedId]]):i("",!0)]),r("td",Ue,[s&&!e.params.trashed?(l(),f(m(G),{key:0,href:a.route("users.show",[s.id])},{default:g(()=>[r("span",Pe,[x(p(s==null?void 0:s.name)+" ",1),s.email_verified_at!==null?u((l(),d("svg",Ae,t[24]||(t[24]=[r("path",{fill:"currentColor",d:"m18.774 8.245-.892-.893a1.5 1.5 0 0 1-.437-1.052V5.036a2.484 2.484 0 0 0-2.48-2.48H13.7a1.5 1.5 0 0 1-1.052-.438l-.893-.892a2.484 2.484 0 0 0-3.51 0l-.893.892a1.5 1.5 0 0 1-1.052.437H5.036a2.484 2.484 0 0 0-2.48 2.481V6.3a1.5 1.5 0 0 1-.438 1.052l-.892.893a2.484 2.484 0 0 0 0 3.51l.892.893a1.5 1.5 0 0 1 .437 1.052v1.264a2.484 2.484 0 0 0 2.481 2.481H6.3a1.5 1.5 0 0 1 1.052.437l.893.892a2.484 2.484 0 0 0 3.51 0l.893-.892a1.5 1.5 0 0 1 1.052-.437h1.264a2.484 2.484 0 0 0 2.481-2.48V13.7a1.5 1.5 0 0 1 .437-1.052l.892-.893a2.484 2.484 0 0 0 0-3.51Z"},null,-1),r("path",{fill:"#fff",d:"M8 13a1 1 0 0 1-.707-.293l-2-2a1 1 0 1 1 1.414-1.414l1.42 1.42 5.318-3.545a1 1 0 0 1 1.11 1.664l-6 4A1 1 0 0 1 8 13Z"},null,-1)]))),[[b,a.lang().tooltip.verified]]):i("",!0)])]),_:2},1032,["href"])):(l(),d("div",Fe,[r("span",Te,[x(p(s==null?void 0:s.name)+" ",1),s.email_verified_at!==null?u((l(),d("svg",ze,t[25]||(t[25]=[r("path",{fill:"currentColor",d:"m18.774 8.245-.892-.893a1.5 1.5 0 0 1-.437-1.052V5.036a2.484 2.484 0 0 0-2.48-2.48H13.7a1.5 1.5 0 0 1-1.052-.438l-.893-.892a2.484 2.484 0 0 0-3.51 0l-.893.892a1.5 1.5 0 0 1-1.052.437H5.036a2.484 2.484 0 0 0-2.48 2.481V6.3a1.5 1.5 0 0 1-.438 1.052l-.892.893a2.484 2.484 0 0 0 0 3.51l.892.893a1.5 1.5 0 0 1 .437 1.052v1.264a2.484 2.484 0 0 0 2.481 2.481H6.3a1.5 1.5 0 0 1 1.052.437l.893.892a2.484 2.484 0 0 0 3.51 0l.893-.892a1.5 1.5 0 0 1 1.052-.437h1.264a2.484 2.484 0 0 0 2.481-2.48V13.7a1.5 1.5 0 0 1 .437-1.052l.892-.893a2.484 2.484 0 0 0 0-3.51Z"},null,-1),r("path",{fill:"#fff",d:"M8 13a1 1 0 0 1-.707-.293l-2-2a1 1 0 1 1 1.414-1.414l1.42 1.42 5.318-3.545a1 1 0 0 1 1.11 1.664l-6 4A1 1 0 0 1 8 13Z"},null,-1)]))),[[b,a.lang().tooltip.verified]]):i("",!0)])])),r("div",We,p(s==null?void 0:s.email),1)]),r("td",qe,p((C=s.company)==null?void 0:C.name),1),r("td",Ge,p((O=s.roles)==null?void 0:O.map(E("name"))[0]),1),r("td",Je,p(s.created_at),1),r("td",Ke,p((V=s.sgk)==null?void 0:V.name),1),r("td",Qe,[r("div",Re,[e.params.trashed?i("",!0):(l(),d("div",Xe,[a.can(["create-mail"])?u((l(),f(be,{key:0,type:"button",onClick:y=>(e.sendMailOpen=!0,e.user=s)},{default:g(()=>[n(m(fe),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.lang().tooltip.email]]):i("",!0),a.can(["create-document"])?u((l(),f(B,{key:1,type:"button",onClick:y=>(e.uploadOpen=!0,e.user=s)},{default:g(()=>[n(m(ue),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.lang().tooltip.upload]]):i("",!0),a.can(["update-user"])?u((l(),f(X,{key:2,type:"button",onClick:y=>(e.editOpen=!0,e.user=s)},{default:g(()=>[n(m(pe),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.lang().tooltip.edit]]):i("",!0),a.can(["delete-user"])?u((l(),f(M,{key:3,type:"button",onClick:y=>(e.deleteOpen=!0,e.user=s)},{default:g(()=>[n(m(Y),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.lang().tooltip.delete]]):i("",!0)])),e.params.trashed?(l(),d("div",Ye,[a.can(["delete-user"])?u((l(),f(B,{key:0,type:"button",onClick:y=>D(s)},{default:g(()=>[n(m(ce),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.lang().tooltip.restore]]):i("",!0),a.can(["delete-user"])?u((l(),f(M,{key:1,type:"button",onClick:y=>(e.forceDeleteOpen=!0,e.user=s)},{default:g(()=>[n(m(me),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.lang().tooltip.delete]]):i("",!0)])):i("",!0)])])])}),128))])):(l(),d("tr",et,t[26]||(t[26]=[r("td",{class:"whitespace-nowrap text-gray-600 py-4 px-2 sm:py-3 text-center border-b border-gray-200"}," Herhangi bir kayıt bulunamadı. ",-1)])))])]),r("div",tt,[n(re,{class:"mt-6",links:c.users.links},null,8,["links"])])])])]),_:1})],64)}}};export{Ut as default};
