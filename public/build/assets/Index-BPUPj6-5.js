import{T as S}from"./index-wVxUC5AF.js";import{r as j,a as B,w as I,W as V,c as y,b as r,u as n,d as f,F as v,o as d,g as D,e,p as m,v as b,k as _,t as i,f as P,q as U}from"./app-Clor6Bmc.js";import{_ as N}from"./AuthenticatedLayout-BML9ltml.js";import{_ as A}from"./Breadcrumb-CpD5UrIt.js";import{_ as F}from"./TextInput-Dx03gvMx.js";import{_ as T,r as g,a as W}from"./InfoButton-Cd8gAiIv.js";import{_ as q}from"./SelectInput-CxnOG9h6.js";import{D as x}from"./DangerButton-Cz5zDBKP.js";import{p as E}from"./lodash-DA_3EDCo.js";import{_ as G}from"./Pagination-Bjae9DjC.js";import L from"./Create-ivydUYqr.js";import M from"./Edit-Bq9rBzAr.js";import z from"./Delete-BzLCJNWU.js";import H from"./DeleteBulk-DQRoUa61.js";import{_ as J}from"./Checkbox-ClyhlXgW.js";import{r as h}from"./ChevronUpDownIcon-DijZITOm.js";import{r as K}from"./PencilIcon-DQacpF4j.js";import"./index-Zi_8adpu.js";import"./index-IWnyXDg_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Toast-C3zIoRlW.js";import"./open-closed-BZIuLmqF.js";import"./InputLabel-B8YExcbU.js";import"./Modal--UPmvu_-.js";import"./PrimaryButton-DOVT375j.js";import"./SecondaryButton-CVrCLH69.js";const Q={class:"space-y-4"},R={class:"px-4 sm:px-0"},X={class:"flex justify-between mb-6"},Y={class:"rounded-lg overflow-hidden w-fit"},Z={class:"relative bg-white dark:bg-slate-800 shadow sm:rounded-lg"},ee={class:"flex justify-between p-2"},te={class:"flex space-x-2"},se={class:"overflow-x-auto scrollbar-table"},le={class:"w-full"},re={class:"uppercase text-sm border-t border-slate-200 dark:border-slate-700"},ae={class:"dark:bg-slate-900/50 text-left"},oe={class:"px-2 py-4 text-center"},ne={class:"flex justify-between items-center"},ie={class:"flex justify-between items-center"},de={class:"flex justify-between items-center"},pe={class:"flex justify-between items-center"},ce={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},me=["value"],ue={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},fe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},he={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},_e={class:"flex justify-center items-center"},ke={class:"rounded-md overflow-hidden"},ve={class:"flex justify-between items-center p-2 border-t border-slate-200 dark:border-slate-700"},Ke={__name:"Index",props:{title:String,filters:Object,permissions:Object,breadcrumbs:Object,perPage:Number},setup(p){const{_:$,debounce:C,pickBy:O}=E,o=p,s=j({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,permissions:null,dataSet:B().props.app.perpage}),u=a=>{s.params.field=a,s.params.order=s.params.order==="asc"?"desc":"asc"};return I(()=>$.cloneDeep(s.params),C(()=>{let a=O(s.params);V.get(route("permission.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(a,t)=>{const w=S;return d(),y(v,null,[r(n(D),{title:o.title},null,8,["title"]),r(N,null,{default:f(()=>[r(A,{title:p.title,breadcrumbs:p.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",Q,[e("div",R,[e("div",X,[r(F,{modelValue:s.params.search,"onUpdate:modelValue":t[0]||(t[0]=l=>s.params.search=l),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:a.lang().placeholder.search},null,8,["modelValue","placeholder"]),m(r(T,{class:"rounded-none",onClick:t[1]||(t[1]=l=>s.createOpen=!0)},null,512),[[b,a.can(["create-permission"])]])]),e("div",Y,[r(L,{show:s.createOpen,onClose:t[2]||(t[2]=l=>s.createOpen=!1),title:o.title},null,8,["show","title"]),r(M,{show:s.editOpen,onClose:t[3]||(t[3]=l=>s.editOpen=!1),permission:s.permission,title:o.title},null,8,["show","permission","title"]),r(z,{show:s.deleteOpen,onClose:t[4]||(t[4]=l=>s.deleteOpen=!1),permission:s.permission,title:o.title},null,8,["show","permission","title"]),r(H,{show:s.deleteBulkOpen,onClose:t[5]||(t[5]=l=>(s.deleteBulkOpen=!1,s.multipleSelect=!1,s.selectedId=[])),selectedId:s.selectedId,title:o.title},null,8,["show","selectedId","title"])])]),e("div",Z,[e("div",ee,[e("div",te,[r(q,{modelValue:s.params.perPage,"onUpdate:modelValue":t[6]||(t[6]=l=>s.params.perPage=l),dataSet:s.dataSet},null,8,["modelValue","dataSet"]),m((d(),_(x,{onClick:t[7]||(t[7]=l=>s.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:f(()=>[r(n(g),{class:"w-5 h-5"})]),_:1})),[[b,s.selectedId.length!=0&&a.can(["delete permission"])],[w,a.lang().tooltip.delete_selected]])])]),e("div",se,[e("table",le,[e("thead",re,[e("tr",ae,[e("th",oe,[r(J,{checked:s.multipleSelect,"onUpdate:checked":t[8]||(t[8]=l=>s.multipleSelect=l),onChange:a.selectAll},null,8,["checked","onChange"])]),t[16]||(t[16]=e("th",{class:"px-2 py-4 text-center"},"#",-1)),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[9]||(t[9]=l=>u("name"))},[e("div",ne,[e("span",null,i(a.lang().label.name),1),r(n(h),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[10]||(t[10]=l=>u("guard"))},[e("div",ie,[t[15]||(t[15]=e("span",null,"Guard",-1)),r(n(h),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[11]||(t[11]=l=>u("created_at"))},[e("div",de,[e("span",null,i(a.lang().label.created),1),r(n(h),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:t[12]||(t[12]=l=>u("updated_at"))},[e("div",pe,[e("span",null,i(a.lang().label.updated),1),r(n(h),{class:"w-4 h-4"})])]),t[17]||(t[17]=e("th",{class:"px-2 py-4 sr-only"},"Action",-1))])]),e("tbody",null,[(d(!0),y(v,null,P(p.permissions.data,(l,k)=>(d(),y("tr",{key:k,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[e("td",ce,[m(e("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:t[13]||(t[13]=(...c)=>a.select&&a.select(...c)),value:l.id,"onUpdate:modelValue":t[14]||(t[14]=c=>s.selectedId=c)},null,40,me),[[U,s.selectedId]])]),e("td",ue,i(++k),1),e("td",fe,i(l.name),1),e("td",be,i(l.guard_name),1),e("td",he,i(l.created_at),1),e("td",we,i(l.updated_at),1),e("td",ye,[e("div",_e,[e("div",ke,[m((d(),_(W,{type:"button",onClick:c=>(s.editOpen=!0,s.permission=l),class:"px-2 py-1.5 rounded-none"},{default:f(()=>[r(n(K),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.can(["update-permission"])],[w,a.lang().tooltip.edit]]),m((d(),_(x,{type:"button",onClick:c=>(s.deleteOpen=!0,s.permission=l),class:"px-2 py-1.5 rounded-none"},{default:f(()=>[r(n(g),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,a.can(["delete-permission"])],[w,a.lang().tooltip.delete]])])])])]))),128))])])]),e("div",ve,[r(G,{class:"mt-6",links:p.permissions.links},null,8,["links"])])])])]),_:1})],64)}}};export{Ke as default};
