import{r as w,x as C,s as S,c as p,b as a,d as f,o as g,e as t,t as n,u as r,F as $,f as x,i as b,n as V,j,p as B,q as E}from"./app-Clor6Bmc.js";import{_ as F,a as h}from"./TextInput-Dx03gvMx.js";import{_ as d}from"./InputLabel-B8YExcbU.js";import{_ as N}from"./Modal--UPmvu_-.js";import{P as U}from"./PrimaryButton-DOVT375j.js";import{_ as q}from"./SecondaryButton-CVrCLH69.js";import{_ as D}from"./Checkbox-ClyhlXgW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"space-y-6"},P={class:"text-lg font-medium text-slate-900 dark:text-slate-100"},z={class:"my-6 space-y-4"},A={class:"flex justify-start items-center space-x-2 mt-2"},L={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mt-2"},O=["id","value"],T={class:"flex justify-end"},X={__name:"Create",props:{show:Boolean,title:String,permissions:Object},emits:["close"],setup(k,{emit:_}){const i=k,m=_,c=w({multipleSelect:!1}),e=C({name:"",guard_name:"web",permissions:[]}),v=()=>{e.post(route("role.store"),{preserveScroll:!0,onSuccess:()=>{m("close"),e.reset(),c.multipleSelect=!1},onError:()=>null,onFinish:()=>null})};return S(()=>{i.show&&(e.errors={})}),(l,s)=>(g(),p("section",M,[a(N,{show:i.show,onClose:s[5]||(s[5]=o=>m("close"))},{default:f(()=>[t("form",{class:"p-6",onSubmit:j(v,["prevent"])},[t("h2",P,n(l.lang().label.add)+" "+n(i.title),1),t("div",z,[t("div",null,[a(d,{for:"name",value:l.lang().label.role},null,8,["value"]),a(F,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:r(e).name,"onUpdate:modelValue":s[0]||(s[0]=o=>r(e).name=o),required:"",placeholder:l.lang().placeholder.name,error:r(e).errors.name},null,8,["modelValue","placeholder","error"]),a(h,{class:"mt-2",message:r(e).errors.name},null,8,["message"])]),t("div",null,[a(d,{value:l.lang().label.permission},null,8,["value"]),a(h,{class:"mt-2",message:r(e).errors.permissions},null,8,["message"]),t("div",A,[a(D,{id:"permission-all",checked:c.multipleSelect,"onUpdate:checked":s[1]||(s[1]=o=>c.multipleSelect=o),onChange:l.selectAll},null,8,["checked","onChange"]),a(d,{for:"permission-all",value:l.lang().label.check_all},null,8,["value"])]),t("div",L,[(g(!0),p($,null,x(i.permissions,(o,y)=>(g(),p("div",{class:"flex items-center justify-start space-x-2",key:y},[B(t("input",{onChange:s[2]||(s[2]=(...u)=>l.select&&l.select(...u)),class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",id:"permission_"+o.id,value:o.id,"onUpdate:modelValue":s[3]||(s[3]=u=>r(e).permissions=u)},null,40,O),[[E,r(e).permissions]]),a(d,{for:"permission_"+o.id,value:o.name},null,8,["for","value"])]))),128))])])]),t("div",T,[a(q,{disabled:r(e).processing,onClick:s[4]||(s[4]=o=>m("close"))},{default:f(()=>[b(n(l.lang().button.close),1)]),_:1},8,["disabled"]),a(U,{class:V(["ml-3",{"opacity-25":r(e).processing}]),disabled:r(e).processing,onClick:v},{default:f(()=>[b(n(r(e).processing?l.lang().button.add+"...":l.lang().button.add),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{X as default};
