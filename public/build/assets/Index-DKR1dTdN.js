import{T as S}from"./index-wVxUC5AF.js";import{x as D,r as B,a as V,w as P,W as _,c as x,b as o,u as l,d as i,F as w,o as c,g as L,e,p as d,v as m,q as N,t as n,f as T,S as f,i as u,k as y}from"./app-Clor6Bmc.js";import{_ as F}from"./AuthenticatedLayout-BML9ltml.js";import{_ as U}from"./Breadcrumb-CpD5UrIt.js";import{_ as W,a as q,r as E}from"./InfoButton-Cd8gAiIv.js";import{_ as H}from"./SecondaryButton-CVrCLH69.js";import{_ as I}from"./SelectInput-CxnOG9h6.js";import{D as v}from"./DangerButton-Cz5zDBKP.js";import M from"./Create-n6r2VnIE.js";import z from"./Edit-vNJNqNvF.js";import A from"./Delete-BG8wFnpm.js";import G from"./ForceDelete-hJEM2mF9.js";import{_ as J}from"./Pagination-Bjae9DjC.js";import{p as K}from"./lodash-DA_3EDCo.js";import{r as Q}from"./PencilIcon-DQacpF4j.js";import{r as R}from"./ArrowLeftIcon-BvfDG8wl.js";import{r as X}from"./Toast-C3zIoRlW.js";import"./index-Zi_8adpu.js";import"./index-IWnyXDg_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./open-closed-BZIuLmqF.js";import"./Modal--UPmvu_-.js";import"./TextInput-Dx03gvMx.js";import"./TextArea-Be7cmaW0.js";import"./InputLabel-B8YExcbU.js";import"./PrimaryButton-DOVT375j.js";const Y={class:"flex justify-end mb-4 text-right"},Z={class:"space-y-4"},ee={class:"relative bg-white dark:bg-slate-800 shadow sm:rounded-lg"},te={class:"flex justify-between p-2 items-center"},re={class:"flex space-x-2"},se={class:"relative inline-flex items-center cursor-pointer"},ae={class:"overflow-x-auto scrollbar-table"},oe={class:"min-w-full"},ne={class:"uppercase text-sm border-t border-slate-200 dark:border-slate-700"},le={class:"dark:bg-slate-900/50 text-left"},ie={class:"flex justify-between items-center"},de={class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},pe={class:"flex justify-between items-center"},ce={class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},me={class:"flex justify-between items-center"},fe={class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},ue={class:"flex justify-between items-center"},be={class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},ge={class:"bg-white"},ye={class:"whitespace-nowrap text-gray-400 py-4 px-2 sm:py-3 text-center border-b border-gray-200"},he={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},xe={class:"flex items-center"},_e={class:"ml-4"},we={class:"text-sm leading-5 text-gray-500"},ve={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},ke={class:"text-sm leading-5 text-gray-900"},$e={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},Oe={class:"text-sm leading-5 text-gray-900"},Ce={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},je={class:"text-sm leading-5 text-gray-900"},Se={class:"px-6 py-4 whitespace-no-wrap border-b border-gray-200"},De={class:"text-sm leading-5 text-gray-900"},Be={class:"whitespace-nowrap py-4 px-2 sm:py-3 border-b border-gray-200"},Ve={class:"flex justify-center items-center"},Pe={class:"rounded-md overflow-hidden"},Le={class:"flex justify-between items-center p-2 border-t border-slate-200 dark:border-slate-700"},nt={__name:"Index",props:{title:String,filters:Object,companies:Object,breadcrumbs:Object,perPage:Number},setup(b){const{_:k,debounce:$,pickBy:O}=K,p=b;D({name:"",address:"",city:""});const C=a=>{_.patch(route("company.restore",a))},t=B({params:{perPage:p.perPage,page:p.page,trashed:p.filters.trashed},company:null,createOpen:!1,editOpen:!1,deleteOpen:!1,forceDeleteOpen:!1,dataSet:V().props.app.perpage});return P(()=>k.cloneDeep(t.params),$(()=>{let a=O(t.params);_.get(route("company.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(a,r)=>{const g=S;return c(),x(w,null,[o(l(L),{title:"Company"}),o(F,null,{default:i(()=>[o(U,{title:b.title,breadcrumbs:b.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",Y,[d(o(W,{class:"rounded-none",onClick:r[0]||(r[0]=s=>t.createOpen=!0)},null,512),[[m,a.can(["create-company"])]]),o(M,{show:t.createOpen,onClose:r[1]||(r[1]=s=>t.createOpen=!1),title:p.title},null,8,["show","title"]),o(z,{show:t.editOpen,onClose:r[2]||(r[2]=s=>t.editOpen=!1),title:p.title,company:t.company},null,8,["show","title","company"]),o(A,{show:t.deleteOpen,onClose:r[3]||(r[3]=s=>t.deleteOpen=!1),company:t.company},null,8,["show","company"]),o(G,{show:t.forceDeleteOpen,onClose:r[4]||(r[4]=s=>t.forceDeleteOpen=!1),company:t.company,title:p.title},null,8,["show","company","title"])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",re,[o(I,{modelValue:t.params.perPage,"onUpdate:modelValue":r[5]||(r[5]=s=>t.params.perPage=s),dataSet:t.dataSet},null,8,["modelValue","dataSet"])]),e("div",null,[e("label",se,[d(e("input",{id:"trashed",type:"checkbox",value:"",class:"sr-only peer","onUpdate:modelValue":r[6]||(r[6]=s=>t.params.trashed=s)},null,512),[[N,t.params.trashed]]),r[8]||(r[8]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),r[9]||(r[9]=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])],-1))])])]),e("div",ae,[e("table",oe,[e("thead",ne,[e("tr",le,[r[10]||(r[10]=e("th",{class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"}," # ",-1)),e("th",{class:"px-6 py-3 cursor-pointer border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider",onClick:r[7]||(r[7]=s=>a.order("name"))},[e("div",ie,[e("span",null,n(a.lang().label.name),1)])]),e("th",de,[e("div",pe,[e("span",null,n(a.lang().label.personnel),1)])]),e("th",ce,[e("div",me,[e("span",null,n(a.lang().label.phone),1)])]),e("th",fe,[e("div",ue,[e("span",null,n(a.lang().label.contact),1)])]),e("th",be,n(a.lang().label.address),1),r[11]||(r[11]=e("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-center text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},null,-1))])]),e("tbody",ge,[(c(!0),x(w,null,T(b.companies.data,(s,j)=>(c(),x("tr",{key:s.id},[e("td",ye,n(++j),1),e("td",he,[e("div",xe,[e("div",_e,[o(l(f),{href:"#",class:"text-sm leading-5 font-medium text-gray-900"},{default:i(()=>[u(n(s.name),1)]),_:2},1024),e("div",we,n(s.address),1)])])]),e("td",ve,[e("div",ke,[o(l(f),{href:"#"},{default:i(()=>[u(n(s.users_count),1)]),_:2},1024)])]),e("td",$e,[e("div",Oe,[o(l(f),{href:"#"},{default:i(()=>[u(n(s.phone),1)]),_:2},1024)])]),e("td",Ce,[e("div",je,[o(l(f),{href:"#"},{default:i(()=>[u(n(s.contact),1)]),_:2},1024)])]),e("td",Se,[e("div",De,[o(l(f),{href:"#"},{default:i(()=>[u(n(s.city),1)]),_:2},1024)])]),e("td",Be,[d(e("div",Ve,[d((c(),y(q,{type:"button",onClick:h=>(t.editOpen=!0,t.company=s)},{default:i(()=>[o(l(Q),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,a.can(["update-company"])],[g,a.lang().tooltip.edit]]),d((c(),y(v,{type:"button",onClick:h=>(t.deleteOpen=!0,t.company=s)},{default:i(()=>[o(l(E),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,a.can(["delete-company"])],[g,a.lang().tooltip.delete]])],512),[[m,!t.params.trashed]]),d(e("div",Pe,[d((c(),y(H,{type:"button",onClick:h=>C(s)},{default:i(()=>[o(l(R),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,a.can(["delete-company"])],[g,a.lang().tooltip.restore]]),d((c(),y(v,{type:"button",onClick:h=>(t.forceDeleteOpen=!0,t.company=s)},{default:i(()=>[o(l(X),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,a.can(["delete-company"])],[g,a.lang().tooltip.delete]])],512),[[m,t.params.trashed]])])]))),128))])])]),e("div",Le,[o(J,{class:"mt-6",links:p.companies.links,filters:t.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{nt as default};
