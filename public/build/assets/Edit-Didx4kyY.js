import{r as w,x as S,s as x,c as f,b as r,d as g,o as v,e as i,t as m,u as o,F as $,f as C,i as h,n as V,j,p as B,q as E}from"./app-Clor6Bmc.js";import{_ as F,a as k}from"./TextInput-Dx03gvMx.js";import{_ as d}from"./InputLabel-B8YExcbU.js";import{_ as N}from"./Modal--UPmvu_-.js";import{P as U}from"./PrimaryButton-DOVT375j.js";import{_ as q}from"./SecondaryButton-CVrCLH69.js";import{_ as D}from"./Checkbox-ClyhlXgW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"space-y-6"},O={class:"text-lg font-medium text-slate-900 dark:text-slate-100"},P={class:"my-6 space-y-4"},z={class:"flex justify-start items-center space-x-2 mt-2"},L={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mt-2"},T=["id","value"],A={class:"flex justify-end"},X={__name:"Edit",props:{show:Boolean,title:String,role:Object,permissions:Object},emits:["close"],setup(_,{emit:y}){const t=_,n=w({multipleSelect:!1}),c=y,e=S({name:"",permissions:[]}),b=()=>{var s;e.put(route("role.update",(s=t.role)==null?void 0:s.id),{preserveScroll:!0,onSuccess:()=>{c("close"),e.reset(),n.multipleSelect=!1},onError:()=>null,onFinish:()=>null})};return x(()=>{var s,l,a;t.show&&(e.errors={},e.name=(s=t.role)==null?void 0:s.name,e.permissions=(l=t.role.permissions)==null?void 0:l.map(u=>u.id)),t.permissions.length==((a=t.role)==null?void 0:a.permissions.length)?n.multipleSelect=!0:n.multipleSelect=!1}),(s,l)=>(v(),f("section",M,[r(N,{show:t.show,onClose:l[5]||(l[5]=a=>c("close"))},{default:g(()=>[i("form",{class:"p-6",onSubmit:j(b,["prevent"])},[i("h2",O,m(s.lang().label.edit)+" "+m(t.title),1),i("div",P,[i("div",null,[r(d,{for:"name",value:s.lang().label.role},null,8,["value"]),r(F,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(e).name,"onUpdate:modelValue":l[0]||(l[0]=a=>o(e).name=a),required:"",placeholder:s.lang().placeholder.name,error:o(e).errors.name},null,8,["modelValue","placeholder","error"]),r(k,{class:"mt-2",message:o(e).errors.name},null,8,["message"])]),i("div",null,[r(d,{value:s.lang().label.permission},null,8,["value"]),r(k,{class:"mt-2",message:o(e).errors.permissions},null,8,["message"]),i("div",z,[r(D,{id:"permission-all",checked:n.multipleSelect,"onUpdate:checked":l[1]||(l[1]=a=>n.multipleSelect=a)},null,8,["checked"]),r(d,{for:"permission-all",value:s.lang().label.check_all},null,8,["value"])]),i("div",L,[(v(!0),f($,null,C(t.permissions,(a,u)=>(v(),f("div",{class:"flex items-center justify-start space-x-2",key:u},[B(i("input",{onChange:l[2]||(l[2]=(...p)=>s.select&&s.select(...p)),class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",id:"permission_"+a.id,value:a.id,"onUpdate:modelValue":l[3]||(l[3]=p=>o(e).permissions=p)},null,40,T),[[E,o(e).permissions]]),r(d,{for:"permission_"+a.id,value:a.name},null,8,["for","value"])]))),128))])])]),i("div",A,[r(q,{disabled:o(e).processing,onClick:l[4]||(l[4]=a=>c("close"))},{default:g(()=>[h(m(s.lang().button.close),1)]),_:1},8,["disabled"]),r(U,{class:V(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing,onClick:b},{default:g(()=>[h(m(o(e).processing?s.lang().button.save+"...":s.lang().button.save),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{X as default};
