import{s as N}from"./index-BZNH-kTE.js";import{x as Y,a4 as c,c as g,b as a,d as x,u as s,o as f,e as r,t as m,h as k,n as U,i as I,j as P}from"./app-Clor6Bmc.js";import{a as u,_ as D}from"./TextInput-Dx03gvMx.js";import{_ as p}from"./InputLabel-B8YExcbU.js";import{P as q}from"./PrimaryButton-DOVT375j.js";import{_ as E}from"./Modal--UPmvu_-.js";import{_ as O}from"./SelectInput-CxnOG9h6.js";import"./lodash-DA_3EDCo.js";import"./index-DyIGL_tI.js";import"./index-Zi_8adpu.js";import"./index-IWnyXDg_.js";import"./index-ni-Kb3Fu.js";import"./index-BWYMqWAE.js";import"./index-BwWD2mQs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"space-y-6"},T={class:"text-lg font-medium text-slate-900 dark:text-slate-100"},A={class:"grid grid-cols-1 w-full my-4"},G={class:"mt-2"},H={class:"mt-2"},J={class:"mt-2"},K={class:"mt-2"},L={class:"my-4"},Q=["value"],R={key:1,class:"text-red-600 p-2 rounded my-2"},W={class:"flex justify-end"},ce={__name:"Create",props:{show:Boolean,title:String,user:Object,categories:Object,date:Number},emits:["close"],setup(M,{emit:S}){var w;let n=M;const v=S,e=Y({category:"",alias:"",file:null,description:"",date:n.date}),j=()=>{e.post(route("documents.store",n.user.id),{preserveScroll:!0,onSuccess:()=>{v("close"),e.reset()},onError:()=>null,onFinish:()=>null})},B=(w=n.categories)==null?void 0:w.map(l=>({label:l.name,value:l.id}));let y=new Date,i=y.getMonth(),d=y.getFullYear(),b=i===0?11:i-1,C=b===11?d-1:d,h=i===11?0:i+1,$=h===0?d+1:d;c();const _=c(new Date),V=c(new Date);return _.value.setMonth(b),_.value.setFullYear(C),V.value.setMonth(h),V.value.setFullYear($),(l,t)=>{const F=N;return f(),g("section",z,[a(E,{show:s(n).show,onClose:t[6]||(t[6]=o=>v("close"))},{default:x(()=>[r("form",{class:"p-6",onSubmit:t[5]||(t[5]=P((...o)=>l.submit&&l.submit(...o),["prevent"]))},[r("h2",T,m(l.lang().label.add),1),r("div",A,[r("div",G,[a(p,{for:"category",value:l.lang().label.category},null,8,["value"]),a(O,{id:"category",class:"mt-1 block w-full",modelValue:s(e).category,"onUpdate:modelValue":t[0]||(t[0]=o=>s(e).category=o),dataSet:s(B),required:""},null,8,["modelValue","dataSet"]),a(u,{class:"mt-2",message:s(e).errors.category},null,8,["message"])]),r("div",H,[a(p,{for:"alias",value:l.lang().label.alias},null,8,["value"]),a(D,{id:"alias",type:"text",class:"mt-1 block w-full",modelValue:s(e).alias,"onUpdate:modelValue":t[1]||(t[1]=o=>s(e).alias=o),required:"",placeholder:l.lang().placeholder.alias,error:s(e).errors.alias},null,8,["modelValue","placeholder","error"]),t[7]||(t[7]=r("span",{class:"text-gray-400 text-sm"},"pdf, doc, docx, xls, xlsx, ppt, pptx, jpg, jpeg, png max: 50 MB",-1)),a(u,{class:"mt-2",message:s(e).errors.alias},null,8,["message"])]),r("div",J,[a(p,{for:"date",value:l.lang().label.month},null,8,["value"]),a(F,{modelValue:s(e).date,"onUpdate:modelValue":t[2]||(t[2]=o=>s(e).date=o),view:"date",dateFormat:"yy/mm",manualInput:!1,showIcon:"",fluid:""},null,8,["modelValue"]),a(u,{class:"mt-2",message:s(e).errors.date},null,8,["message"])]),r("div",K,[a(p,{for:"description",value:l.lang().label.description},null,8,["value"]),a(D,{id:"description",type:"text",class:"mt-1 block w-full",modelValue:s(e).description,"onUpdate:modelValue":t[3]||(t[3]=o=>s(e).description=o),placeholder:l.lang().placeholder.description,error:s(e).errors.description},null,8,["modelValue","placeholder","error"]),a(u,{class:"mt-2",message:s(e).errors.description},null,8,["message"])]),r("div",L,[r("input",{type:"file",onInput:t[4]||(t[4]=o=>s(e).file=o.target.files[0])},null,32)]),s(e).progress?(f(),g("progress",{key:0,value:s(e).progress.percentage,max:"100"},m(s(e).progress.percentage)+"% ",9,Q)):k("",!0),s(e).errors.file?(f(),g("div",R,m(s(e).errors.file),1)):k("",!0),r("div",W,[a(q,{class:U(["ml-3",{"opacity-25":s(e).progress}]),disabled:s(e).progress,onClick:j},{default:x(()=>[I(m(s(e).progress?l.lang().button.add+"...":l.lang().button.add),1)]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])])}}};export{ce as default};
