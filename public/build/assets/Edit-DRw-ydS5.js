import{s as L,a as F}from"./index-CsgbvKpm.js";import{s as I}from"./index-Cqkie1M2.js";import{x as K,s as P,c as T,b as a,d as g,o as x,e as i,t as f,u as s,i as B,n as z,j as A}from"./app-Clor6Bmc.js";import{a as d,_ as n}from"./TextInput-Dx03gvMx.js";import{_ as D}from"./Modal--UPmvu_-.js";import{P as G}from"./PrimaryButton-DOVT375j.js";import{_ as R}from"./SecondaryButton-CVrCLH69.js";import{_ as H}from"./TextArea-Be7cmaW0.js";import"./index-DyIGL_tI.js";import"./index-Zi_8adpu.js";import"./index-IWnyXDg_.js";import"./index-ni-Kb3Fu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"space-y-6"},Q={class:"text-lg font-medium text-slate-900 dark:text-slate-100"},W={class:"grid grid-cols-1 grid md:grid-cols-2 w-full"},X={class:"col-span-1 m-4 md:m-6"},Y={class:"mt-2"},Z={class:"mt-2"},ee={class:"mt-2"},se={class:"mt-2"},le={class:"mt-2"},oe={class:"mt-2"},ae={class:"mt-2"},re={class:"col-span-1 m-4 md:m-6"},te={class:"mt-2"},ie={class:"mt-2"},de={class:"mt-2"},ne={class:"mt-2"},me={class:"mt-2"},pe={class:"mt-2"},ue={class:"mt-2"},ce={class:"flex justify-end"},je={__name:"Edit",props:{show:Boolean,title:String,user:Object,roles:Object,companies:Object,sgks:Object},emits:["close"],setup(C,{emit:N}){var _,h,w;const t=C,c=N,e=K({name:"",email:"",password:"",password_confirmation:"",identity:"",company:null,roles:null,sgk:null,recruitment_date:"",gsm:"",iban:"",position:"",holidays:"",info:""}),V=()=>{e.patch(route("users.update",t.user.id),{preserveScroll:!0,onSuccess:()=>{c("close"),e.reset()},onError:()=>null,onFinish:()=>null})};P(()=>{var r,l,p,m,u,o,y,b,k,v,U,$,S,j;t.show&&(e.name=(r=t.user)==null?void 0:r.name,e.email=(l=t.user)==null?void 0:l.email,e.identity=(p=t.user)==null?void 0:p.identity,e.password=(m=t.user)==null?void 0:m.password,e.password=(u=t.user)==null?void 0:u.password,e.password_confirmation=(o=t.user)==null?void 0:o.password_confirmation,e.recruitment_date=(y=t.user)==null?void 0:y.recruitment_date,e.gsm=(b=t.user)==null?void 0:b.gsm,e.iban=(k=t.user)==null?void 0:k.iban,e.company=(v=t.user)==null?void 0:v.company,e.roles=(U=t.user)==null?void 0:U.roles.map(q=>({name:q.name,id:q.id})),e.sgk=($=t.user)==null?void 0:$.sgk,e.position=(S=t.user)==null?void 0:S.position,e.holidays=(j=t.user)==null?void 0:j.holidays,e.info=t.user.info??"",e.errors={})});const E=(_=t.roles)==null?void 0:_.map(r=>({name:r.name,id:r.id})),M=(h=t.companies)==null?void 0:h.map(r=>({name:r.name,id:r.id})),O=(w=t.sgks)==null?void 0:w.map(r=>({name:r.name,id:r.id}));return(r,l)=>{const p=I,m=L,u=F;return x(),T("section",J,[a(D,{show:t.show,onClose:l[15]||(l[15]=o=>c("close"))},{default:g(()=>[i("form",{class:"p-6",onSubmit:A(V,["prevent"])},[i("h2",Q,f(t.title),1),i("div",W,[i("div",X,[i("div",Y,[a(p,{id:"company",class:"mt-1 block w-full",modelValue:s(e).company,"onUpdate:modelValue":l[0]||(l[0]=o=>s(e).company=o),options:s(M),optionLabel:"name",placeholder:"Firma",required:""},null,8,["modelValue","options"]),a(d,{class:"mt-2",message:s(e).errors.company},null,8,["message"])]),i("div",Z,[a(n,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).name=o),required:"",placeholder:r.lang().placeholder.name,error:s(e).errors.name},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),i("div",ee,[a(n,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(e).email,"onUpdate:modelValue":l[2]||(l[2]=o=>s(e).email=o),placeholder:r.lang().placeholder.email,error:s(e).errors.email},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),i("div",se,[a(n,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:s(e).password,"onUpdate:modelValue":l[3]||(l[3]=o=>s(e).password=o),placeholder:r.lang().placeholder.password,error:s(e).errors.password},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.password},null,8,["message"])]),i("div",le,[a(n,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:s(e).password_confirmation,"onUpdate:modelValue":l[4]||(l[4]=o=>s(e).password_confirmation=o),placeholder:r.lang().placeholder.password_confirmation,error:s(e).errors.password_confirmation},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.password_confirmation},null,8,["message"])]),i("div",oe,[a(m,{id:"identity",modelValue:s(e).identity,"onUpdate:modelValue":l[5]||(l[5]=o=>s(e).identity=o),mask:"99999999999",placeholder:"TC Kimlik No",fluid:""},null,8,["modelValue"]),a(d,{class:"mt-2",message:s(e).errors.identity},null,8,["message"])]),i("div",ae,[a(H,{id:"info",type:"text",class:"mt-1 block w-full",modelValue:s(e).info,"onUpdate:modelValue":l[6]||(l[6]=o=>s(e).info=o),required:"",placeholder:r.lang().placeholder.info,error:s(e).errors.info},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.info},null,8,["message"])])]),i("div",re,[i("div",te,[a(u,{id:"role",class:"mt-1 block w-full",modelValue:s(e).roles,"onUpdate:modelValue":l[7]||(l[7]=o=>s(e).roles=o),options:s(E),optionLabel:"name",placeholder:"Rol",display:"chip",required:""},null,8,["modelValue","options"]),a(d,{class:"mt-2",message:s(e).errors.roles},null,8,["message"])]),i("div",ie,[a(p,{id:"sgk",class:"mt-1 block w-full",modelValue:s(e).sgk,"onUpdate:modelValue":l[8]||(l[8]=o=>s(e).sgk=o),options:s(O),optionLabel:"name",placeholder:"SGK Müdürlüğü",required:""},null,8,["modelValue","options"]),a(d,{class:"mt-2",message:s(e).errors.sgk},null,8,["message"])]),i("div",de,[a(n,{id:"recruitment_date",type:"date",class:"mt-1 block w-full",modelValue:s(e).recruitment_date,"onUpdate:modelValue":l[9]||(l[9]=o=>s(e).recruitment_date=o),placeholder:r.lang().placeholder.recruitment_date,error:s(e).errors.recruitment_date},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.recruitment_date},null,8,["message"])]),i("div",ne,[a(m,{id:"gsm",modelValue:s(e).gsm,"onUpdate:modelValue":l[10]||(l[10]=o=>s(e).gsm=o),mask:"(999) 999-9999",placeholder:r.lang().placeholder.gsm,fluid:""},null,8,["modelValue","placeholder"]),a(d,{class:"mt-2",message:s(e).errors.gsm},null,8,["message"])]),i("div",me,[a(m,{id:"iban",modelValue:s(e).iban,"onUpdate:modelValue":l[11]||(l[11]=o=>s(e).iban=o),mask:"99 9999 9999 9999 9999 9999 99",placeholder:"IBAN",fluid:""},null,8,["modelValue"]),a(d,{class:"mt-2",message:s(e).errors.iban},null,8,["message"])]),i("div",pe,[a(n,{id:"holidays",type:"text",class:"mt-1 block w-full",modelValue:s(e).holidays,"onUpdate:modelValue":l[12]||(l[12]=o=>s(e).holidays=o),required:"",placeholder:r.lang().placeholder.holidays,error:s(e).errors.holidays},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.holidays},null,8,["message"])]),i("div",ue,[a(n,{id:"position",type:"text",class:"mt-1 block w-full",modelValue:s(e).position,"onUpdate:modelValue":l[13]||(l[13]=o=>s(e).position=o),placeholder:r.lang().placeholder.position,error:s(e).errors.position},null,8,["modelValue","placeholder","error"]),a(d,{class:"mt-2",message:s(e).errors.position},null,8,["message"])])])]),i("div",ce,[a(R,{disabled:s(e).processing,onClick:l[14]||(l[14]=o=>c("close"))},{default:g(()=>[B(f(r.lang().button.close),1)]),_:1},8,["disabled"]),a(G,{class:z(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:V},{default:g(()=>[B(f(s(e).processing?r.lang().button.save+"...":r.lang().button.save),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])])}}};export{je as default};
